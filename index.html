<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <title>×¡×™×›×•× ×©×™×—×”</title>
  <style>
    body {
      direction: rtl;
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }
    .box {
      background: white;
      max-width: 650px;
      margin: auto;
      padding: 20px;
      border-radius: 8px;
    }
    h2 { margin-top: 0; }
    label { display: block; margin-bottom: 6px; font-weight: bold; }
    input, select, button {
      width: 100%;
      padding: 8px;
      font-size: 16px;
      margin-bottom: 12px;
    }
    button { cursor: pointer; }
    .secondary { background: #eee; }
    pre {
      background: #eee;
      padding: 10px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

<div class="box">
  <h2 id="title">××¢×¨×›×ª ×¡×™×›×•× ×©×™×—×”</h2>

  <div id="step"></div>

  <button id="nextBtn">×”××©×š</button>

  <pre id="output" style="display:none;"></pre>
  <button id="copyBtn" style="display:none;">ğŸ“‹ ×”×¢×ª×§ ×¡×™×›×•× ×©×™×—×”</button>
  <button id="resetBtn" class="secondary" style="display:none;">ğŸ” ×¡×™×•×</button>
</div>

<script>
const companies = [
  "×”×¨××œ","××’×“×œ","×”×¤× ×™×§×¡","×›×œ×œ","××œ×˜×©×•×œ×¨","××™×˜×‘",
  "×× ×œ×™×¡×˜","××™× ×¤×™× ×™×˜×™","×™×œ×™×Ÿ ×œ×¤×™×“×•×ª","××•×¨","×§×¨×Ÿ ×”×©×ª×œ××•×ª ×œ×¢×•×‘×“×™ ×”××“×™× ×”"
];

const fundTypes = [
  "×§×•×¤×ª ×’××œ","×§×¨×Ÿ ×”×©×ª×œ××•×ª","×¤× ×¡×™×”","×§×•×¤×ª ×’××œ ×œ×”×©×§×¢×”","×¤×•×œ×™×¡×ª ×—×™×¡×›×•×Ÿ"
];

const investmentTracks = [
  { label: "×× ×™×•×ª", value: "×× ×™×•×ª" },
  { label: "Snp500", value: "Snp500" },
  { label: "××©×•×œ×‘ ×¡×—×™×¨", value: "××©×•×œ×‘ ×¡×—×™×¨" },
  { label: "×¢×•×§×‘ ××“×“×™× ×’××™×©", value: "×¢×•×§×‘ ××“×“×™× ×’××™×©" },
  { label: "×× ×™×•×ª ×¡×—×™×¨", value: "×× ×™×•×ª ×¡×—×™×¨" },
  { label: "×¢×•×§×‘ ××“×“×™ ×× ×™×•×ª", value: "×¢×•×§×‘ ××“×“×™ ×× ×™×•×ª" },
  { label: "50% ×× ×™×•×ª 50% snp500", value: "50% ×× ×™×•×ª 50% snp500" },
  { label: "×”×©×™×œ×•×© ×”×§×“×•×©", value: "33% ××©×•×œ×‘ ×¡×—×™×¨ 33% ××“×“×™ ×× ×™×•×ª 34% snp500" },
  { label: "×—×¦×™ ×—×¦×™ ×× ×œ×™×¡×˜", value: "50% ×¢×•×§×‘ ××“×“×™× ×’××™×© 50% snp500" }
];

const feeOptions = ["0.6%","0.7%","0.8%"];

let totalFunds = 0;
let currentFund = 1;
let results = [];
let data = {};
let stepIndex = 0;

const steps = [
  () => askInput("×›××” ×§×•×¤×•×ª ×¦×¨×™×š ×œ×¨×©×•×?", "count", true),
  () => askSelect("××” ×©× ×”×—×‘×¨×”?", "company", companies),
  () => askSelect("××” ×¡×•×’ ×”×§×•×¤×”?", "fundType", fundTypes),
  () => askInput("××” ××¡×¤×¨ ×”×§×•×¤×”?", "fundNumber"),
  () => askSelect("×œ× ×™×™×“ ××• ×œ×”×©××™×¨?", "action", ["×œ× ×™×™×“","×œ×”×©××™×¨"]),
  () => {
    if (data.action === "×œ×”×©××™×¨") {
      askSelectAdvanced("××” ××¡×œ×•×œ ×”×”×©×§×¢×” ×¢×›×©×™×•?", "currentInvestment", investmentTracks);
      return;
    }
    askSelect("×œ××™×–×• ×—×‘×¨×” ×œ× ×™×™×“?", "targetCompany", companies);
  },
  () => {
    if (data.action === "×œ×”×©××™×¨") {
      askSelectAdvanced("×œ××™×–×” ××¡×œ×•×œ ×™×™×©××¨?", "futureInvestment", investmentTracks);
      return;
    }
    askSelectAdvanced("××¡×œ×•×œ ×”×©×§×¢×” â€“ ×›××©×¨ ×”×›×¡×£ ×™×•×©×§×¢ ×‘:", "investment", investmentTracks);
  },
  () => {
    if (data.action === "×œ×”×©××™×¨") {
      saveFund();
      return;
    }
    askSelect("××” ×“××™ ×”× ×™×”×•×œ?", "fees", feeOptions);
  },
  () => saveFund()
];

function askInput(labelText, key, isFirst=false) {
  step.innerHTML = `<label>${labelText}</label><input id="value">`;
  nextBtn.onclick = () => {
    const v = value.value.trim();
    if (!v) return alert("×™×© ×œ××œ× ×¢×¨×š");
    if (isFirst) {
      totalFunds = parseInt(v,10);
      if (isNaN(totalFunds)||totalFunds<1) return alert("××¡×¤×¨ ×œ× ×ª×§×™×Ÿ");
      next(); return;
    }
    data[key]=v; next();
  };
}

function askSelect(labelText, key, options) {
  step.innerHTML = `
    <label>${labelText}</label>
    <select id="value">
      ${options.map(o=>`<option>${o}</option>`).join("")}
      <option value="××—×¨">××—×¨</option>
    </select>
    <input id="other" placeholder="××œ×œ ×—×•×¤×©×™" style="display:none;">
  `;
  value.onchange = ()=> other.style.display = value.value==="××—×¨"?"block":"none";
  nextBtn.onclick = ()=>{
    let v=value.value;
    if(v==="××—×¨"){ if(!other.value.trim())return alert("×™×© ×œ××œ×"); v=other.value.trim(); }
    data[key]=v; next();
  };
}

function askSelectAdvanced(labelText,key,options){
  step.innerHTML = `
    <label>${labelText}</label>
    <select id="value">
      ${options.map(o=>`<option value="${o.value}">${o.label}</option>`).join("")}
      <option value="××—×¨">××—×¨</option>
    </select>
    <input id="other" placeholder="××œ×œ ×—×•×¤×©×™" style="display:none;">
  `;
  value.onchange=()=>other.style.display=value.value==="××—×¨"?"block":"none";
  nextBtn.onclick=()=>{
    let v=value.value;
    if(v==="××—×¨"){ if(!other.value.trim())return alert("×™×© ×œ××œ×"); v=other.value.trim(); }
    data[key]=v; next();
  };
}

function next(){
  stepIndex++;
  title.textContent=`××¢×¨×›×ª ×¡×™×›×•× ×©×™×—×” â€“ ×§×•×¤×” ${currentFund} ××ª×•×š ${totalFunds}`;
  if(stepIndex<steps.length) steps[stepIndex]();
}

function saveFund(){
  let line = `${currentFund}. ${data.company} ${data.fundType} ××¡×¤×¨ ×§×•×¤×” ${data.fundNumber}- `;

  if(data.action==="×œ×”×©××™×¨"){
    line += `×ª×™×©××¨ ×‘××•×ª×” ×—×‘×¨×” ×›××©×¨ ×™×ª×‘×¦×¢ ×©×™× ×•×™ ××¡×œ×•×œ ×${data.currentInvestment} ×œ${data.futureInvestment}`;
  } else {
    line += `×ª× ×•×™×™×“ ×œ×—×‘×¨×” ${data.targetCompany} ×›××©×¨ ×”×›×¡×£ ×™×•×©×§×¢ ×‘${data.investment} ×‘×“××™ × ×™×”×•×œ ${data.fees}`;
  }

  results.push(line);

  if(currentFund<totalFunds){
    currentFund++; data={}; stepIndex=1; steps[stepIndex]();
  } else finish();
}

function finish(){
  output.textContent="×¡×™×›×•× ×©×™×—×”:\n\n"+results.join("\n");
  step.style.display=nextBtn.style.display="none";
  output.style.display=copyBtn.style.display=resetBtn.style.display="block";

  copyBtn.onclick=()=>{navigator.clipboard.writeText(output.textContent);alert("×”×•×¢×ª×§");};
  resetBtn.onclick=()=>location.reload();
}

steps[0]();
</script>

</body>
</html>